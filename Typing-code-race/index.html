<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Improve your coding speed with Typing Code Race - Practice typing real code snippets and programming concepts">
    <title>Typing Code Race - Improve Your Coding Speed</title>
    
    <!-- Preload critical fonts -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Fira+Code&display=swap" as="style">
    <link rel="preload" href="https://samkarya.github.io/bcaexamprep/Typing-code-race/css/main.css" as="style">
    <link rel="preload" href="https://samkarya.github.io/bcaexamprep/Typing-code-race/css/game.css" as="style">
       <!-- Stylesheet loading -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Fira+Code&display=swap">
    <link rel="stylesheet" href="https://samkarya.github.io/bcaexamprep/Typing-code-race/css/main.css">
    <link rel="stylesheet" href="https://samkarya.github.io/bcaexamprep/Typing-code-race/css/game.css">
</head>
<body>
    <div id="top-ad-container" class="ad-container" aria-hidden="true"></div>
    
    <header>
        <h1>Typing Code Race</h1>
        <nav id="user-nav">
            <div id="user-info" aria-live="polite">
                <span id="username">Beta Version</span>
                <!--<div class="auth-buttons">
                    <button id="login-btn" class="auth-btn">Login</button>
                    <button id="signup-btn" class="auth-btn">Sign Up</button>
                </div>-->
            </div>
        </nav>
    </header>

    <main>
        <div id="game-container">
            <div id="game-header">
                <div id="game-info" aria-live="polite">
                    <div class="game-metric">
                        <span id="timer" class="metric-value">Time: 60s</span>
                    </div>
                    <div class="game-metric">
                        <span id="wpm" class="metric-value">WPM: 0</span>
                    </div>
                    <div class="game-metric">
                        <span id="accuracy" class="metric-value">Accuracy: 100%</span>
                    </div>
                </div>
                <div id="saved-game-info" aria-live="polite">
                    <div class="saved-game-metric">
                        <span id="best" class="metric-value">Personal Best: </span>
                    </div>
                    <div class="saved-game-metric">
                        <span id="saved-time" class="metric-value">Time: 0s</span>
                    </div>
                    <div class="saved-game-metric">
                        <span id="saved-wpm" class="metric-value">WPM: 0</span>
                    </div>
                    <div class="saved-game-metric">
                        <span id="saved-accuracy" class="metric-value">Accuracy: 0%</span>
                    </div>
                </div>
            </div>

            <div id="code-display" aria-label="Text to type" role="textbox" aria-readonly="true"></div>
            
            <textarea id="code-input" rows="10" cols="50" aria-label="Type here" placeholder="Start typing when ready..."></textarea>

            <div id="start-box"></div>

            <div id="keyboard-shortcuts" class="help-text">
                <h2>Keyboard Shortcuts</h2>
                <ul>
                    <li><kbd>Ctrl</kbd> + <kbd>Enter</kbd> - Restart game</li>
                    <li><kbd>Tab</kbd> - Auto-indent in code mode</li>
                </ul>
            </div>
        </div>

        <aside id="sidebar-ad-container" class="ad-container" aria-hidden="true"></aside>
    </main>

    <footer>
        <div id="bottom-ad-container" class="ad-container" aria-hidden="true"></div>
    </footer>

    <!-- Loading overlay -->
    <div id="loading-overlay" aria-hidden="true">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>
    <div id="typing-achievement-widget" class="unique-widget-popup" style="display: none;"></div>
    <!-- Error message container -->
    <div id="error-container" aria-live="assertive"></div>

    <script src="https://samkarya.github.io/bcaexamprep/widget/share-achievement.js"></script>
    <script>
  let widgetPopup = null;

  function triggerAchievementOnGameOver() {
    const gameOverScreen = document.getElementById('game-over');
    if (gameOverScreen && window.getComputedStyle(gameOverScreen).display !== 'none') {
      const timePara = document.getElementById('time-para');
      const wpmPara = document.getElementById('wpm-para');
      const accuracyPara = document.getElementById('accuracy-para');

      if (timePara && wpmPara && accuracyPara) {
        const timeText = timePara.innerText.split(': ')[1];
        const wpmText = wpmPara.innerText.split(': ')[1];
        const accuracyText = accuracyPara.innerText.split(': ')[1];

        widgetPopup = new AchievementWidgetPopup('typing-achievement-widget', {
          title: 'Typing Challenge Completed! ‚å®Ô∏è',
          scoreLabel: 'Words Per Minute',
          scoreValue: wpmText,
          scoreUnit: ' WPM',
          showTime: true,
          timeLabel: 'Accuracy',
          timeValue: accuracyText, 
          timeUnit: ' ',
          websiteName: 'BCA Exam Preparation',
          websiteUrl: "https://bcaexamprep.blogspot.com/2024/10/typing-challenge.html",
          primaryColor: '#FF4081',
          secondaryColor: '#00BCD4',
          backgroundColor: '#FFFFFF',
          shareText: `I typed ${wpmText} WPM with ${accuracyText} accuracy in ${timeText} on BCA Exam Preparation Typing Challenge! ‚å®Ô∏èüéâ`
        });

        widgetPopup.showPopup();
      }
    }
  }
     </script>
    <!-- Scripts 
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js" defer></script>
    -->
    <!-- App scripts -->
    <!--<script src="https://samkarya.github.io/bcaexamprep/Typing-code-race/js/firebaseConfig.js" defer></script>-->
    <script src="https://samkarya.github.io/bcaexamprep/Typing-code-race/js/codeSnippets.js" defer></script>
    <script src="https://samkarya.github.io/bcaexamprep/Typing-code-race/js/game.js" defer></script>
    <script src="https://samkarya.github.io/bcaexamprep/Typing-code-race/js/ui.js" defer></script>
    <!--<script src="https://samkarya.github.io/bcaexamprep/Typing-code-race/js/auth.js" defer></script>
    <script src="https://samkarya.github.io/bcaexamprep/Typing-code-race/js/ads.js" defer></script>-->
    <script src="https://samkarya.github.io/bcaexamprep/Typing-code-race/js/main.js" defer></script>
</body>
</html>
